# TimeTree Example Configuration
# 8 Plant Species Test Case

# === Input Paths ===
orthofinder_dir: "orthofinder_analysis"
results_dir: "orthofinder_analysis/Results_Dec28"
proteomes_dir: "data/pep"

# === Calibration ===
calibration_table: "calibrations.tsv"
calibration_unit: "Myr"

# === Rooting ===
# Outgroup not specified - sequences use gene IDs not species names
# Tree will be rooted later during divergence time estimation
outgroup_taxa: ["Marchantia_polymorpha"]

# === Species Tree Method ===
# "concatenation" - Build supermatrix and infer ML tree (traditional approach)
# "coalescent"    - Build gene trees and use ASTRAL (robust to ILS)
tree_method: "coalescent"

# === SCO Filtering ===
sco:
  min_taxa: 6  # Minimum 75% of 8 species
  allow_missing: false

# === Multiple Sequence Alignment ===
msa:
  method: "mafft"
  mafft_opts: "--auto"

# === Trimming ===
trim:
  method: "trimal"
  trimal_opts: "-automated1"

# === IQ-TREE ML Tree ===
iqtree:
  model: "MFP"
  use_partition: false
  bootstrap: 1000
  threads: 64

# === Tool binaries ===
# Notes:
# - IQ2MC step2 REQUIRES IQ-TREE 3 (`iqtree3`) for `--dating mcmctree` as described in:
#   https://iqtree.github.io/doc/Dating
# - For IQ2MC step2, set `iqtree_dating` to `iqtree3` or an absolute path.
binaries:
  iqtree_ml: ""
  iqtree_dating: ""
  mcmctree: "mcmctree"

# === IQ2MC / MCMCtree ===
mcmctree:
  clock_model: "IND"
  burnin: 10000
  samplefreq: 100
  nsample: 20000
  birth_rate: 1.0
  death_rate: 1.0
  sampling_fraction: 0.5

# === Visualization (ggtree) ===
visualization:
  time_unit: "Ma"  # Time unit for axis label: Ma, Myr, kya, etc.

# === Output ===
output_dir: "results/timetree"
work_dir: "work"

# === Coalescent Method (ASTRAL) ===
coalescent:
  gene_tree_model: "MFP"  # Model for gene tree inference, MFP for ModelFinder
  gene_tree_threads: 2    # Threads per gene tree inference
  astral_bin: "astral"    # ASTRAL binary or path to .jar file
  astral_opts: ""         # Extra ASTRAL options, e.g. "-t 2" for scoring
  astral_threads: 4       # Threads for ASTRAL (if supported)
